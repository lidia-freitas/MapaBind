"use strict";var RequestApi=Object.create(null,{ajaxRequest:{value:function(){var e=!1;if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e}},get:{value:function(e){var t=this;return new Promise(function(n,a){var i=t.ajaxRequest();i&&(i.onreadystatechange=function(){4==i.readyState&&(200==i.status||304==i.status?n(JSON.parse(i.response)):(alert("Problema na comunicação"),a(Error(i.statusText))))},i.open("GET",e,!0),i.send(null))})}}}),EstadoRepositorio=Object.create(null,{getAll:{value:function(){return new Promise(function(e,t){function n(t){return e(t)}function a(e){return t(e)}RequestApi.get("https://gist.githubusercontent.com/lidia-freitas/4c0fd733dba8ab47aba1/raw/de0bf86aaa04b0c34787e14beddcf0ef829e4b2d/estados.json").then(n).catch(a)})}},getOne:{value:function(e){return new Promise(function(t,n){function a(n){return t(n.filter(function(t){return t.sigla===e}))}function i(e){return n(e)}RequestApi.get("https://gist.githubusercontent.com/lidia-freitas/4c0fd733dba8ab47aba1/raw/de0bf86aaa04b0c34787e14beddcf0ef829e4b2d/estados.json",e).then(a).catch(i)})}}}),RepresentanteRepositorio=Object.create(null,{getAll:{value:function(){return new Promise(function(e,t){function n(t){return e(t)}function a(e){return t(e)}RequestApi.get("https://gist.githubusercontent.com/lidia-freitas/638005146a7e7763af98/raw/93320dc7d37d484bee3b16f6ce98577e896ad452/representantes.json").then(n).catch(a)})}},getPorEstado:{value:function(e){return new Promise(function(t,n){function a(n){return t(n.filter(function(t){return t.sigla===e}))}function i(e){return n(e)}RequestApi.get("https://gist.githubusercontent.com/lidia-freitas/638005146a7e7763af98/raw/93320dc7d37d484bee3b16f6ce98577e896ad452/representantes.json",e).then(a).catch(i)})}}}),EstadoServico=Object.create(null,{getAll:{value:function(){return new Promise(function(e,t){function n(t){return e(t)}function a(e){return t(e)}EstadoRepositorio.getAll().then(n).catch(a)})}},getOne:{value:function(e){return new Promise(function(t,n){function a(n){return t(n.filter(function(t){return t.sigla===e}))}function i(e){return n(e)}EstadoRepositorio.getOne(e).then(a).catch(i)})}}}),RepresentanteServico=Object.create(null,{getAll:{value:function(){return new Promise(function(e,t){function n(t){return e(t)}function a(e){return t(e)}RepresentanteRepositorio.getAll().then(n).catch(a)})}},getPorEstado:{value:function(e){return new Promise(function(t,n){function a(n){return t(n.filter(function(t){return t.sigla===e}))}function i(e){return n(e)}RepresentanteRepositorio.getPorEstado(e).then(a).catch(i)})}}}),EstadoUI=function(e){function t(){function e(e){e.forEach(function(e){n(e)}),a()}function t(e){}EstadoServico.getAll().then(e).catch(t)}function n(e){var t=document.createElement("i"),n=document.createElement("option");t.classList.add("uf","mp-icon-"+e.sigla),t.dataset.value=e.sigla,n.value=e.sigla,n.innerText=e.nome,c.appendChild(t),r.appendChild(n)}function a(){c.addEventListener("click",function(){var e=event.target.dataset.value;i(e),RepresentanteServico.getPorEstado(e).then(function(e){for(;o.firstChild;)o.removeChild(o.firstChild);e.forEach(function(e){RepresentanteUI.buildHTML(e)})}).catch(function(e){})},!1),r.addEventListener("change",function(){var e=this.value;i(e),RepresentanteServico.getPorEstado(e).then(function(e){for(;o.firstChild;)o.removeChild(o.firstChild);e.forEach(function(e){RepresentanteUI.buildHTML(e)})}).catch(function(e){})},!1)}function i(e){var t=document.getElementsByClassName("ativo");if(!e)return void t[0].classList.remove("ativo");var n=document.getElementsByClassName("mp-icon-"+e);t.length&&t[0].classList.remove("ativo"),n[0].classList.add("ativo"),r.value=e}var r=document.getElementById("select-uf"),c=document.getElementById("container-mapa"),o=document.getElementById("container-panels");return{create:t}}(),RepresentanteUI=function(e){function t(){function e(e){for(;a.firstChild;)a.removeChild(a.firstChild);e.forEach(function(e){n(e)})}function t(e){}RepresentanteServico.getAll().then(e).catch(t)}function n(e){var t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("span"),c=document.createElement("span"),o=document.createElement("p"),u=document.createElement("p"),s=document.createElement("p"),d=document.createElement("i"),l=document.createElement("i");t.classList.add("panel","panel-default"),n.classList.add("panel-heading"),i.classList.add("panel-body"),o.classList.add("endereco-representante"),u.classList.add("telefones-representante"),s.classList.add("emails-representante"),d.classList.add("mp-icon-phone"),l.classList.add("mp-icon-mail"),e.telefones.forEach(function(e){var t=document.createElement("a");t.setAttribute("href",e.link),t.innerText=e.txt,r.appendChild(t)}),e.emails.forEach(function(e){var t=document.createElement("a");t.setAttribute("href",e.link),t.innerText=e.txt,c.appendChild(t)}),n.innerText=e.titulo,t.appendChild(n),o.innerText=e.endereco,u.appendChild(d),u.appendChild(r),s.appendChild(l),s.appendChild(c),i.appendChild(o),i.appendChild(u),i.appendChild(s),t.appendChild(n),t.appendChild(i),a.appendChild(t)}var a=document.getElementById("container-panels");return{create:t,buildHTML:n}}(),MapaBindUI=function(){function e(){RepresentanteUI.create(),EstadoUI.create()}return Object.create(null,{create:{value:e}})}();